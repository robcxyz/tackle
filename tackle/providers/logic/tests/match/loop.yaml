
cases:
  - value
  - dict
  - list
  - hook-dict
  - hook-expanded
  - hook-compact
  - block

matches:
  ->: match
  for: cases
  value: "{{item}}"
  case:
    value: True
    dict:
      stuff: things
    list:
      - stuff
      - things
    hook-dict:
      dict:
        stuff: things
      list:
        - stuff
        - things
      hook-expanded:
        ->: print expanded
      hook-compact->: print compact

    hook-expanded:
      ->: print expanded
    hook-compact->: print compact
    block->:
      for:
        - stuff
        - things
      value: True
      dict:
        stuff->: "{{item}}"
      list:
        - stuff
        - things
      hook-expanded:
        ->: print expanded
      hook-compact->: print compact


expected:
  - True
  - stuff: things
  -
    - stuff
    - things
  - dict:
      stuff: things
    list:
      - stuff
      - things
    hook-expanded: expanded
    hook-compact: compact
  - expanded
  - compact
  -
    - value: True
      dict:
        stuff: stuff
      list:
        - stuff
        - things
      hook-expanded: expanded
      hook-compact: compact

    - value: True
      dict:
        stuff: things
      list:
        - stuff
        - things
      hook-expanded: expanded
      hook-compact: compact

assert->: assert "{{matches}}" "{{expected}}"
